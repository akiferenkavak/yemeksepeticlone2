{% extends "base.html" %}

{% block title %}Kurye Paneli{% endblock %}

{% block content %}
<div class="admin-dashboard">
    <h2>Kurye Kontrol Paneli</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <div class="admin-menu">
        <h3>Ä°ÅŸlemler</h3>
        <ul>
            <li><a href="{{ url_for('available_orders') }}">ğŸ“¦ Uygun SipariÅŸler</a></li>
            <li><a href="{{ url_for('delivery_orders') }}">âœ… ÃœstlendiÄŸim SipariÅŸler</a></li>
            <li><a href="{{ url_for('edit_delivery_profile') }}">âš™ Profil Bilgilerini DÃ¼zenle</a></li>
        </ul>
    </div>
    
    <div class="pending-restaurants">
        <h3>Durum Bilgisi</h3>
        {% if delivery_person and delivery_person.is_approved %}
            <p class="status-approved">Kurye durumu: OnaylandÄ±</p>
            <div class="availability-status">
                {% if delivery_person and delivery_person.is_available %}
                    <p class="status-available">Ã‡alÄ±ÅŸma durumu: MÃ¼sait</p>
                    <a href="{{ url_for('toggle_availability') }}" class="btn btn-warning">MÃ¼sait DeÄŸil Olarak Ä°ÅŸaretle</a>
                {% else %}
                    <p class="status-unavailable">Ã‡alÄ±ÅŸma durumu: MÃ¼sait DeÄŸil</p>
                    <a href="{{ url_for('toggle_availability') }}" class="btn btn-success">MÃ¼sait Olarak Ä°ÅŸaretle</a>
                {% endif %}
            </div>
        {% else %}
            <p class="status-pending">Kurye durumu: Onay bekleniyor...</p>
        {% endif %}
    </div>
    
    <div class="current-assignments">
        <h3>AtanmÄ±ÅŸ SipariÅŸler</h3>
        {% if assigned_orders %}
            <ul>
                {% for order in assigned_orders %}
                    <li>
                        SipariÅŸ #{{ order.id }} - {{ order.restaurant.name }} 
                        <a href="{{ url_for('order_details', order_id=order.id) }}">DetaylarÄ± GÃ¶rÃ¼ntÃ¼le</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Åu anda Ã¼zerinize atanmÄ±ÅŸ sipariÅŸ bulunmamaktadÄ±r.</p>
        {% endif %}
    </div>
</div>
{% endblock %}